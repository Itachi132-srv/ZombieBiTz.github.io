<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ZOMBIE BITZ</title>

<style>
body{margin:0;background:#000;color:#fff;font-family:sans-serif;overflow:hidden}

#menu{position:absolute;inset:0;display:flex;justify-content:space-between;align-items:center;padding:20px}

#centerStats{
position:absolute;
left:50%;
top:50%;
transform:translate(-50%,-50%);
text-align:center;
font-size:22px
}

.blue{background:linear-gradient(135deg,#00f,#fff);padding:12px;border-radius:10px}
.green{background:linear-gradient(135deg,#0f0,#fff);padding:12px;border-radius:10px}
.pink{background:linear-gradient(135deg,#ff00aa,#fff);padding:12px;border-radius:10px}

canvas{display:none}
</style>
</head>

<body>

<div id="menu">
<div class="blue">ðŸª™ SCORE: <span id="highScore">0</span></div>
<button class="green" onclick="startGame()">â–¶ PLAY</button>
</div>

<div id="centerStats">
<div class="pink">ðŸ§  Minds: <span id="mindCount">0</span></div>
</div>

<canvas id="game"></canvas>

<script>

let jetImg=new Image()
jetImg.src="jet.png"

let zombieImg=new Image()
zombieImg.src="zombie.png"

let save=JSON.parse(localStorage.getItem("zb"))||{
high:0,
kills:0,
minds:0
}

highScore.innerText=save.high
mindCount.innerText=save.minds

let c=document.getElementById("game")
let x,y
let bullets=[]
let zombies=[]
let firePlus=0
let kills=0
let minds=save.minds

function startGame(){
menu.style.display="none"
centerStats.style.display="none"

c.style.display="block"
c.width=innerWidth
c.height=innerHeight

x=c.width/2
y=c.height-80

loop()
spawn()
}

c.addEventListener("touchmove",e=>{
x=e.touches[0].clientX
})

function loop(){
let g=c.getContext("2d")
g.clearRect(0,0,c.width,c.height)

g.drawImage(jetImg,x-25,y-25,50,50)

bullets.forEach(b=>{
b.y-=8
g.fillStyle="yellow"
g.fillRect(b.x,b.y,4,8)
})

zombies.forEach((z,zi)=>{
z.y+=z.s
g.drawImage(zombieImg,z.x,z.y,40,40)

bullets.forEach((b,bi)=>{
if(Math.abs(b.x-z.x)<20 && Math.abs(b.y-z.y)<20){

zombies.splice(zi,1)
bullets.splice(bi,1)
kills++

// random minds drop
if(Math.random()<0.3){
minds++
}

// rare fire plus drop
if(Math.random()<0.1 && firePlus<5){
firePlus++
}
}
})

if(Math.abs(z.x-x)<25 && Math.abs(z.y-y)<25){
endGame()
}
})

requestAnimationFrame(loop)
}

setInterval(()=>{
bullets.push({x:x,y:y})
for(let i=0;i<firePlus;i++){
bullets.push({x:x+(i*8),y:y})
}
},200)

function spawn(){
setInterval(()=>{
zombies.push({
x:Math.random()*c.width,
y:-10,
s:3
})
},1000)
}

function endGame(){
save.high=Math.max(save.high,kills)
save.minds=minds
localStorage.setItem("zb",JSON.stringify(save))
location.reload()
}

</script>
</body>
</html>
