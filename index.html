<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ZOMBIE BLITZ</title>

<style>
body{margin:0;background:#000;color:#fff;font-family:sans-serif;overflow:hidden}

/* MENU */
#menu{position:absolute;inset:0;display:flex;justify-content:space-between;align-items:center;padding:20px}
#centerStats{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);text-align:center;font-size:20px}

.blue{background:linear-gradient(135deg,#00f,#fff);padding:12px;border-radius:10px}
.green{background:linear-gradient(135deg,#0f0,#fff);padding:12px;border-radius:10px}
.pink{background:linear-gradient(135deg,#ff00aa,#fff);padding:12px;border-radius:10px}

canvas{display:none}
</style>
</head>

<body>

<div id="menu">
<div class="blue">üèÜ HIGH SCORE: <span id="highScore">0</span></div>
<button class="green" onclick="startGame()">‚ñ∂ PLAY</button>
</div>

<div id="centerStats">
<div>üßü Zombies Killed: <span id="zk">0</span></div>
<div class="pink">üß† Minds: <span id="mindCount">0</span></div>
</div>

<canvas id="game"></canvas>

<script>

let save=JSON.parse(localStorage.getItem("zb"))||{
high:0,
kills:0,
minds:0
}

highScore.innerText=save.high
zk.innerText=save.kills
mindCount.innerText=save.minds

let c=document.getElementById("game")
let x,y
let bullets=[]
let zombies=[]
let powerups=[]
let firePlus=0
let kills=0
let minds=save.minds

function startGame(){
document.getElementById("menu").style.display="none"
centerStats.style.display="none"

c.style.display="block"
c.width=innerWidth
c.height=innerHeight

x=c.width/2
y=c.height-80

loop()
spawn()
}

c.addEventListener("touchmove",e=>{
x=e.touches[0].clientX
})

function loop(){
let g=c.getContext("2d")
g.clearRect(0,0,c.width,c.height)

g.fillStyle="cyan"
g.fillRect(x-10,y-20,20,20)

bullets.forEach(b=>{
b.y-=8
g.fillStyle="yellow"
g.fillRect(b.x,b.y,4,8)
})

zombies.forEach((z,zi)=>{
z.y+=z.s
g.fillStyle="green"
g.fillRect(z.x,z.y,10,10)

bullets.forEach((b,bi)=>{
if(Math.abs(b.x-z.x)<10 && Math.abs(b.y-z.y)<10){
zombies.splice(zi,1)
bullets.splice(bi,1)
kills++
save.kills=kills

// random minds drop
if(Math.random()<0.3){
minds++
}

// rare fire plus drop
if(Math.random()<0.1 && firePlus<5){
firePlus++
}
}
})

if(Math.abs(z.x-x)<15 && Math.abs(z.y-y)<15){
endGame()
}
})

requestAnimationFrame(loop)
}

setInterval(()=>{
bullets.push({x:x,y:y})
for(let i=0;i<firePlus;i++){
bullets.push({x:x+(i*6),y:y})
}
},200)

function spawn(){
setInterval(()=>{
zombies.push({
x:Math.random()*c.width,
y:-10,
s:3
})
},1000)
}

function endGame(){
save.high=Math.max(save.high,kills)
save.minds=minds
localStorage.setItem("zb",JSON.stringify(save))
location.reload()
}

</script>
</body>
</html>
